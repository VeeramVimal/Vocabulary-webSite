{"ast":null,"code":"var _jsxFileName = \"/home/alwin-26/VR /final_task/Lottery_ticket/User_frontend/src/Components/CheckOut.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useCart } from \"react-use-cart\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CheckOut = props => {\n  _s();\n\n  const [checkOut, setcheckOut] = useState([]);\n  console.log(checkOut, \"checkOutcheckOut\");\n  const [Count, setCount] = useState(0);\n  const [offers, setOffers] = useState(0);\n  const [subCoupon, setsubCoupon] = useState();\n  const {\n    emptyCart\n  } = useCart;\n  const [coupon, setCoupon] = useState({\n    Coupon: \"\"\n  });\n  const history = useHistory();\n  console.log(subCoupon, 'subCoupon');\n  useEffect(() => {\n    getItemList(); // getCoupondata();\n  }, []); // useEffect(() => {\n  //   calculateTotal();\n  //   TotalOfferCalc();\n  // }, [checkOut])\n\n  const getItemList = () => {\n    var mycheckOut = JSON.parse(localStorage.getItem('Carts'));\n    setcheckOut(mycheckOut);\n  };\n\n  const deleteCarts = id => {\n    var deletedcheckOut = JSON.parse(localStorage) // axios.get('http://localhost:8080/User/deleteCarts/' + id)\n    .then(response => {\n      getItemList();\n    });\n  };\n\n  const InputChange = event => {\n    setCoupon(prevProps => ({ ...prevProps,\n      [event.target.name]: event.target.value\n    }));\n  }; // const InputChange =(event)=>{\n  //   var check = event.target.value\n  //   {   subCoupon && subCoupon.length > 0 && subCoupon.map(item => {\n  //     for(var i=0; i < check.length; i++ ){\n  //       let data = item.couponCodeName\n  //       // console.log(data, 'datadata++++++');\n  //       // let dataCheck;\n  //       if(data == true){\n  //         console.log('hiiiii');\n  //       }\n  //     }\n  //   })}\n  //   setCoupon(check)\n  // }\n  // const getCoupondata = (event) => {\n  //   axios.get(\"http://localhost:8000/Admin/getCoupen\")\n  //     .then((response) => {\n  //       setsubCoupon(response.data)\n  //     })\n  // }\n\n\n  const handleClick = event => {\n    event.preventDefault();\n\n    if (subCoupon && subCoupon.length > 0) {\n      let checkCoupon = subCoupon.find(el => el.couponCodeName == coupon.Coupon);\n\n      if (typeof checkCoupon == 'undefined') {\n        alert(\"sorry try another coupon\");\n      } else if (checkCoupon.Price > offers) {\n        alert(`Need to add more items worth ${offers - checkCoupon.Price} to the list for this coupon to be enabled`);\n      } else {\n        history.push(\"/Coupon\");\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"py-4 container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-light table-hover m-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Ticket_Id\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Ticket_Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"qty\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Start_Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"End_Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Action_qty\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Buy_Ticket\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: checkOut && checkOut.length > 0 && checkOut.map(item => {\n                return /*#__PURE__*/_jsxDEV(\"tr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-auto ms-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [\"Actual Price: $\", Count]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-auto ms-auto\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: [\"Offer Price: $\", offers]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CheckOut, \"3uVyDf67Mu08aUB7NhjHMaxSoO4=\", false, function () {\n  return [useHistory];\n});\n\n_c = CheckOut;\nexport default CheckOut;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckOut\");","map":{"version":3,"sources":["/home/alwin-26/VR /final_task/Lottery_ticket/User_frontend/src/Components/CheckOut.js"],"names":["React","useState","useEffect","axios","useCart","useHistory","CheckOut","props","checkOut","setcheckOut","console","log","Count","setCount","offers","setOffers","subCoupon","setsubCoupon","emptyCart","coupon","setCoupon","Coupon","history","getItemList","mycheckOut","JSON","parse","localStorage","getItem","deleteCarts","id","deletedcheckOut","then","response","InputChange","event","prevProps","target","name","value","handleClick","preventDefault","length","checkCoupon","find","el","couponCodeName","alert","Price","push","map","item"],"mappings":"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","sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useCart } from \"react-use-cart\";\nimport { useHistory } from \"react-router-dom\";\n\n\nconst CheckOut = (props) => {\n  const [checkOut, setcheckOut] = useState([]);\n  console.log(checkOut,\"checkOutcheckOut\");\n  const [Count, setCount] = useState(0);\n  const [offers, setOffers] = useState(0);\n  const [subCoupon, setsubCoupon] = useState();\n  const { emptyCart } = useCart\n  const [coupon, setCoupon] = useState({ Coupon: \"\" });\n  const history = useHistory();\n  console.log(subCoupon, 'subCoupon');\n\n  useEffect(() => {\n    getItemList();\n    // getCoupondata();\n\n  }, [])\n\n  // useEffect(() => {\n  //   calculateTotal();\n  //   TotalOfferCalc();\n  // }, [checkOut])\n\n  const getItemList = () => {\n    var mycheckOut = JSON.parse(localStorage.getItem('Carts'))\n    setcheckOut(mycheckOut)\n  };\n\n \n\n\n  const deleteCarts = (id) => {\n    var deletedcheckOut = JSON.parse(localStorage)\n\n      // axios.get('http://localhost:8080/User/deleteCarts/' + id)\n      .then((response) => {\n        getItemList()\n\n      })\n  }\n\n\n\n  const InputChange = (event) => {\n    setCoupon((prevProps) => ({\n      ...prevProps,\n      [event.target.name]: event.target.value\n    }));\n\n  }\n\n  // const InputChange =(event)=>{\n\n  //   var check = event.target.value\n  //   {   subCoupon && subCoupon.length > 0 && subCoupon.map(item => {\n  //     for(var i=0; i < check.length; i++ ){\n  //       let data = item.couponCodeName\n  //       // console.log(data, 'datadata++++++');\n  //       // let dataCheck;\n  //       if(data == true){\n  //         console.log('hiiiii');\n  //       }\n\n  //     }\n\n  //   })}\n\n\n  //   setCoupon(check)\n  // }\n\n  // const getCoupondata = (event) => {\n\n  //   axios.get(\"http://localhost:8000/Admin/getCoupen\")\n  //     .then((response) => {\n\n  //       setsubCoupon(response.data)\n\n  //     })\n\n  // }\n\n\n  const handleClick = (event) => {\n    event.preventDefault();\n    if (subCoupon && subCoupon.length > 0) {\n      let checkCoupon = subCoupon.find(el => el.couponCodeName == coupon.Coupon)\n        if(typeof checkCoupon == 'undefined') {\n            alert(\"sorry try another coupon\")\n        }\n        else if(checkCoupon.Price > offers) {\n            alert(`Need to add more items worth ${offers - checkCoupon.Price} to the list for this coupon to be enabled`)\n        }\n        else {\n            history.push(\"/Coupon\");\n        }\n    }\n}\n\n\n\n  return (\n    <div>\n      <section className=\"py-4 container\">\n        <div className=\"row justify-content-center\">\n          <div className=\"col-12\">\n            {/* <h5>Cart({totalUniqueItems}) Total Items:({totalItems})</h5> */}\n            <table className=\"table table-light table-hover m-0\">\n              <thead>\n                <tr>\n                        <th>Ticket_Id</th>\n                        <th>Ticket_Name</th>\n                        <th>Price</th>\n                        <th>qty</th>\n                        <th>Start_Date</th>\n                        <th>End_Date</th>\n                        <th>Status</th>\n                        <th>Action_qty</th>\n\n                        <th>Buy_Ticket</th>\n                  {/* <th>Offer type</th> */}\n                </tr>\n              </thead>\n              <tbody>\n\n                {checkOut && checkOut.length > 0 && checkOut.map(item => {\n                  return (\n                    <tr>\n\n                      \n\n                    </tr>\n\n                  )\n\n                })}\n              </tbody>\n\n\n              <div className=\"col-auto ms-auto\">\n                <h2>Actual Price: ${Count}</h2>\n              </div>\n\n              <div className=\"col-auto ms-auto\">\n                <h2>Offer Price: ${offers}</h2>\n              </div>\n\n            </table>\n          </div>\n\n\n\n        </div>\n\n\n      </section>\n\n     \n    </div>\n  )\n\n}\n\nexport default CheckOut;"]},"metadata":{},"sourceType":"module"}