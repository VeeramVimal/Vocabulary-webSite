{"ast":null,"code":"var _jsxFileName = \"/home/alwin-26/VR /final_task/Lottery_ticket/User_frontend/src/Components/Login/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useHistory } from \"react\";\nimport { Button } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport '../Styles.css';\nimport axios from \"axios\"; // import validator from 'validator';\n\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Register(props) {\n  _s();\n\n  // const [login, setLogin] = useState('');\n  const [EmailError, setEmailError] = useState('');\n  const [PasswordError, setPasswordError] = useState('');\n  const [State, setState] = useState({\n    Email: \"\",\n    Password: \"\"\n  }); //   const InputChange = (event) => {\n  //     const { name, value } = event.target\n  //     setState({...State,...{[name]:event.target.value}});\n  // }\n\n  const InputChange = event => {\n    switch (event.target.name) {\n      case 'Email':\n        setState({ ...State,\n          ...{\n            \"Email\": event.target.value\n          }\n        });\n        break;\n\n      case 'Password':\n        setState({ ...State,\n          ...{\n            \"Password\": event.target.value\n          }\n        });\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const validationCheck = () => {\n    let isValid = true;\n    let emailReg = /^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/;\n\n    if (State.Email == \"\" || State.Email === undefined) {\n      setEmailError(\"Email field is required\");\n      isValid = false;\n    } else if (!emailReg.test(State.Email)) {\n      setEmailError(\"Invalid Email\");\n      isValid = false;\n    } else {\n      setEmailError(\"\");\n    }\n\n    let passwordRegex = /^(?=.*\\d)(?=.*[A-Z])(?=.*[a-z])(?=.*\\W).{6,18}/g; //  alert(State.Password)\n\n    if (State.Password == \"\" || State.Password === undefined) {\n      setPasswordError(\"Password field is required\");\n      isValid = false;\n    } else if (!passwordRegex.test(State.Password)) {\n      setPasswordError(\" Password should contain atleast one uppercase, atleast one lowercase, atleast one number, atleast one special character and minimum 6 and maximum 18\");\n      isValid = false;\n    } else {\n      setPasswordError(\"\");\n    }\n\n    return isValid;\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    var validstatus = validationCheck();\n\n    if (validstatus) {\n      const {\n        Email,\n        Password\n      } = State;\n      axios.post(\"http://localhost:8001/User/addUser\", {\n        Email: Email,\n        Password: Password\n      }).then(response => {\n        toast.success(\"Success\"); // console.log(res);\n\n        props.history.push('/login'); // props.history.push('/Register/listTicket')\n      }).catch(err => {\n        console.log(err.response);\n        toast.error(err.response.data);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-sm-12 center\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Register Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-sm-12 center\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"text\",\n            placeholder: \"Email\",\n            name: \"Email\",\n            value: State.Email,\n            onChange: InputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontsize: 4,\n              color: \"red\"\n            },\n            children: EmailError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"text\",\n            placeholder: \"Password\",\n            name: \"Password\",\n            value: State.Password,\n            onChange: InputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontsize: 4,\n              color: \"red\"\n            },\n            children: PasswordError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            block: true,\n            size: \"lg\",\n            className: \"btn btn-success btn-lg float-left\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Register, \"0/oSSDNeZVaVkC/It3wdwbPnA7g=\");\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/home/alwin-26/VR /final_task/Lottery_ticket/User_frontend/src/Components/Login/Register.js"],"names":["React","useState","useEffect","useHistory","Button","Link","axios","toast","Register","props","EmailError","setEmailError","PasswordError","setPasswordError","State","setState","Email","Password","InputChange","event","target","name","value","validationCheck","isValid","emailReg","undefined","test","passwordRegex","handleSubmit","preventDefault","validstatus","post","then","response","success","history","push","catch","err","console","log","error","data","fontsize","color"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,MAAT,QAAuB,iBAAvB;AAEA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,eAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,KAAT,QAAsB,gBAAtB;;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AACvB;AACA,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACW,aAAD,EAAgBC,gBAAhB,IAAoCZ,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC;AACjCe,IAAAA,KAAK,EAAE,EAD0B;AAEjCC,IAAAA,QAAQ,EAAE;AAFuB,GAAD,CAAlC,CAJuB,CAUtB;AACD;AACA;AACA;;AAEA,QAAMC,WAAW,GAAIC,KAAD,IAAW;AAC7B,YAAQA,KAAK,CAACC,MAAN,CAAaC,IAArB;AACE,WAAK,OAAL;AACEN,QAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAU,aAAG;AAAC,qBAAQK,KAAK,CAACC,MAAN,CAAaE;AAAtB;AAAb,SAAD,CAAR;AACA;;AACF,WAAK,UAAL;AACEP,QAAAA,QAAQ,CAAC,EAAC,GAAGD,KAAJ;AAAU,aAAG;AAAC,wBAAWK,KAAK,CAACC,MAAN,CAAaE;AAAzB;AAAb,SAAD,CAAR;AACA;;AACF;AACE;AARJ;AAWD,GAZD;;AAcA,QAAMC,eAAe,GAAG,MAAM;AAC3B,QAAIC,OAAO,GAAG,IAAd;AACI,QAAIC,QAAQ,GAAG,wCAAf;;AACD,QAAIX,KAAK,CAACE,KAAN,IAAc,EAAd,IAAoBF,KAAK,CAACE,KAAN,KAAcU,SAAtC,EAAiD;AAC/Cf,MAAAA,aAAa,CAAC,yBAAD,CAAb;AACAa,MAAAA,OAAO,GAAG,KAAV;AACD,KAHD,MAGM,IAAG,CAACC,QAAQ,CAACE,IAAT,CAAcb,KAAK,CAACE,KAApB,CAAJ,EAA+B;AACnCL,MAAAA,aAAa,CAAC,eAAD,CAAb;AACAa,MAAAA,OAAO,GAAG,KAAV;AACD,KAHK,MAGD;AACHb,MAAAA,aAAa,CAAC,EAAD,CAAb;AACD;;AAED,QAAKiB,aAAa,GAAG,iDAArB,CAbwB,CAcxB;;AACA,QAAId,KAAK,CAACG,QAAN,IAAiB,EAAjB,IAAuBH,KAAK,CAACG,QAAN,KAAiBS,SAA5C,EAAuD;AACrDb,MAAAA,gBAAgB,CAAC,4BAAD,CAAhB;AACAW,MAAAA,OAAO,GAAG,KAAV;AACD,KAHD,MAGM,IAAG,CAACI,aAAa,CAACD,IAAd,CAAmBb,KAAK,CAACG,QAAzB,CAAJ,EAAuC;AAC3CJ,MAAAA,gBAAgB,CAAC,uJAAD,CAAhB;AACAW,MAAAA,OAAO,GAAG,KAAV;AACD,KAHK,MAGD;AACHX,MAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACD;;AAED,WAAOW,OAAP;AAGL,GA5BD;;AA8BA,QAAMK,YAAY,GAAIV,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACW,cAAN;AACA,QAAIC,WAAW,GAAGR,eAAe,EAAjC;;AAEA,QAAGQ,WAAH,EAAe;AACb,YAAK;AACHf,QAAAA,KADG;AACKC,QAAAA;AADL,UAEAH,KAFL;AAKER,MAAAA,KAAK,CAAC0B,IAAN,CAAW,oCAAX,EAAiD;AAC/ChB,QAAAA,KAAK,EAAEA,KADwC;AAE/CC,QAAAA,QAAQ,EAAEA;AAFqC,OAAjD,EAIGgB,IAJH,CAIQC,QAAQ,IAAI;AAChB3B,QAAAA,KAAK,CAAC4B,OAAN,CAAc,SAAd,EADgB,CAEhB;;AACA1B,QAAAA,KAAK,CAAC2B,OAAN,CAAcC,IAAd,CAAmB,QAAnB,EAHgB,CAIhB;AACD,OATH,EAUGC,KAVH,CAUSC,GAAG,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACL,QAAhB;AACA3B,QAAAA,KAAK,CAACmC,KAAN,CAAYH,GAAG,CAACL,QAAJ,CAAaS,IAAzB;AACD,OAbH;AAeH;AAGF,GA5BD;;AA+BA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,6BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAKE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,6BACE;AAAM,QAAA,QAAQ,EAAEd,YAAhB;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCAEE;AACE,YAAA,SAAS,EAAC,cADZ;AAEE,YAAA,IAAI,EAAC,MAFP;AAGE,YAAA,WAAW,EAAC,OAHd;AAIE,YAAA,IAAI,EAAC,OAJP;AAKE,YAAA,KAAK,EAAEf,KAAK,CAACE,KALf;AAME,YAAA,QAAQ,EAAEE;AANZ;AAAA;AAAA;AAAA;AAAA,kBAFF,eAWE;AAAK,YAAA,KAAK,EAAE;AAAE0B,cAAAA,QAAQ,EAAE,CAAZ;AAAeC,cAAAA,KAAK,EAAE;AAAtB,aAAZ;AAAA,sBACGnC;AADH;AAAA;AAAA;AAAA;AAAA,kBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAgBE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCAEE;AACE,YAAA,SAAS,EAAC,cADZ;AAEE,YAAA,IAAI,EAAC,MAFP;AAGE,YAAA,WAAW,EAAC,UAHd;AAIE,YAAA,IAAI,EAAC,UAJP;AAKE,YAAA,KAAK,EAAEI,KAAK,CAACG,QALf;AAME,YAAA,QAAQ,EAAEC;AANZ;AAAA;AAAA;AAAA;AAAA,kBAFF,eAUE;AAAK,YAAA,KAAK,EAAE;AAAE0B,cAAAA,QAAQ,EAAE,CAAZ;AAAeC,cAAAA,KAAK,EAAE;AAAtB,aAAZ;AAAA,sBACGjC;AADH;AAAA;AAAA;AAAA;AAAA,kBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBF,eA8BE;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACE,QAAC,MAAD;AAAQ,YAAA,KAAK,MAAb;AAAc,YAAA,IAAI,EAAC,IAAnB;AACE,YAAA,SAAS,EAAC,mCADZ;AAEE,YAAA,IAAI,EAAC,QAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA9BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmDD;;GA7IQJ,Q;;KAAAA,Q;AA8IT,eAAeA,QAAf","sourcesContent":["import React, { useState, useEffect, useHistory } from \"react\";\nimport { Button } from 'react-bootstrap';\n\nimport { Link } from 'react-router-dom';\nimport '../Styles.css';\nimport axios from \"axios\";\n// import validator from 'validator';\nimport { toast } from 'react-toastify';\n\nfunction Register(props) {\n  // const [login, setLogin] = useState('');\n  const [EmailError, setEmailError] = useState('');\n  const [PasswordError, setPasswordError] = useState('');\n  const [State, setState] = useState({\n    Email: \"\",\n    Password: \"\",\n\n  });\n\n   //   const InputChange = (event) => {\n  //     const { name, value } = event.target\n  //     setState({...State,...{[name]:event.target.value}});\n  // }\n\n  const InputChange = (event) => {\n    switch (event.target.name) {\n      case 'Email':\n        setState({...State,...{\"Email\":event.target.value}});\n        break;\n      case 'Password':\n        setState({...State,...{\"Password\":event.target.value}});\n        break;\n      default:\n        break;\n    }\n\n  }\n\n  const validationCheck = () => {\n     let isValid = true;\n         let emailReg = /^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/\n        if (State.Email== \"\" || State.Email===undefined) {\n          setEmailError(\"Email field is required\")\n          isValid = false\n        }else if(!emailReg.test(State.Email)){\n          setEmailError(\"Invalid Email\")\n          isValid = false\n        }else{\n          setEmailError(\"\")\n        }\n      \n        let  passwordRegex = /^(?=.*\\d)(?=.*[A-Z])(?=.*[a-z])(?=.*\\W).{6,18}/g\n        //  alert(State.Password)\n        if (State.Password== \"\" || State.Password===undefined) {\n          setPasswordError(\"Password field is required\")\n          isValid = false\n        }else if(!passwordRegex.test(State.Password)){\n          setPasswordError(\" Password should contain atleast one uppercase, atleast one lowercase, atleast one number, atleast one special character and minimum 6 and maximum 18\")\n          isValid = false\n        }else{\n          setPasswordError(\"\")\n        }\n\n        return isValid;\n     \n     \n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    var validstatus = validationCheck();\n    \n    if(validstatus){\n      const{\n        Email,  Password\n       } = State;\n\n  \n        axios.post(\"http://localhost:8001/User/addUser\", {\n          Email: Email,\n          Password: Password,\n        })\n          .then(response => {\n            toast.success(\"Success\");\n            // console.log(res);\n            props.history.push('/login')\n            // props.history.push('/Register/listTicket')\n          })\n          .catch(err => {\n            console.log(err.response);\n            toast.error(err.response.data)\n          })\n        \n    }\n    \n   \n  }\n\n\n  return (\n    <div className='container'>\n      <div className='col-sm-12 center'>\n        <h3>Register Page</h3>\n      </div>\n\n      <div className='col-sm-12 center'>\n        <form onSubmit={handleSubmit}>\n          <div className='form-group'>\n            {/* <label> Email </label> */}\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              placeholder=\"Email\"\n              name=\"Email\"\n              value={State.Email}\n              onChange={InputChange}\n\n            />\n            <div style={{ fontsize: 4, color: \"red\" }}>\n              {EmailError}</div>\n          </div>\n\n          <div className='form-group'>\n            {/* <label> Password </label> */}\n            <input\n              className=\"form-control\"\n              type=\"text\"\n              placeholder=\"Password\"\n              name=\"Password\"\n              value={State.Password}\n              onChange={InputChange}\n            />\n            <div style={{ fontsize: 4, color: \"red\" }}>\n              {PasswordError}</div>\n\n          </div>\n          <div className='form-group'>\n            <Button block size=\"lg\"\n              className=\"btn btn-success btn-lg float-left\"\n              type='submit' >Submit</Button> </div>\n\n        </form>\n      </div>\n      {/* <div className=\"col-md-12 right\">\n          <Button\n            class=\"btn btn-success\"\n            onClick={emptyToken}>LogOut</Button> </div> */}\n    </div>\n  )\n\n}\nexport default Register;"]},"metadata":{},"sourceType":"module"}